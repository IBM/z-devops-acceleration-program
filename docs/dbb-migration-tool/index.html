<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-dbb-migration-tool">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.1">
<title data-rh="true">DBB Migration Tool | IBM Z DevOps Acceleration Program</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://ibm.github.io/z-devops-acceleration-program/docs/dbb-migration-tool"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="DBB Migration Tool | IBM Z DevOps Acceleration Program"><meta data-rh="true" name="description" content="DBB Migration Tool overview"><meta data-rh="true" property="og:description" content="DBB Migration Tool overview"><link data-rh="true" rel="icon" href="/z-devops-acceleration-program/img/bee2.svg"><link data-rh="true" rel="canonical" href="https://ibm.github.io/z-devops-acceleration-program/docs/dbb-migration-tool"><link data-rh="true" rel="alternate" href="https://ibm.github.io/z-devops-acceleration-program/docs/dbb-migration-tool" hreflang="en"><link data-rh="true" rel="alternate" href="https://ibm.github.io/z-devops-acceleration-program/docs/dbb-migration-tool" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://ZU7UKDYY5U-dsn.algolia.net" crossorigin="anonymous"><link rel="search" type="application/opensearchdescription+xml" title="IBM Z DevOps Acceleration Program" href="/z-devops-acceleration-program/opensearch.xml"><link rel="stylesheet" href="/z-devops-acceleration-program/assets/css/styles.66f1c62c.css">
<link rel="preload" href="/z-devops-acceleration-program/assets/js/runtime~main.1579192a.js" as="script">
<link rel="preload" href="/z-devops-acceleration-program/assets/js/main.a28e869f.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}return t}()||function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/z-devops-acceleration-program/"><b class="navbar__title text--truncate">IBM Z DevOps Acceleration Program</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/z-devops-acceleration-program/docs/ibm-z-devops-solution">Docs</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/IBM/z-devops-acceleration-program" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebarViewport_Xe31"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/z-devops-acceleration-program/docs/ibm-z-devops-solution">Overview</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/z-devops-acceleration-program/docs/journey-to-cicd">Getting started</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/z-devops-acceleration-program/docs/tutorial">Tutorials</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/z-devops-acceleration-program/docs/repository-layouts">Designing the CI/CD pipeline</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="/z-devops-acceleration-program/docs/intro-migrating-data">Migrating data from z/OS to Git</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/z-devops-acceleration-program/docs/intro-migrating-data">Introduction to migrating data</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/z-devops-acceleration-program/docs/managing-code-page-conversion">Managing code page conversion</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" tabindex="0" href="/z-devops-acceleration-program/docs/dbb-migration-tool">Methods for migrating data</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/z-devops-acceleration-program/docs/dbb-migration-tool">DBB Migration Tool</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/z-devops-acceleration-program/docs/sclm-git-migration-tool">SCLM-to-Git Migration Tool</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/z-devops-acceleration-program/docs/manual-migration">Manual migration</a></li></ul></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/z-devops-acceleration-program/docs/implementing-pipeline-actions">Implementing CI/CD</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a href="https://www.ibm.com/docs/en/dbb" target="_blank" rel="noopener noreferrer" class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false">Resources</a></div></li></ul></nav></div></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/z-devops-acceleration-program/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Migrating data from z/OS to Git</span><meta itemprop="position" content="1"></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Methods for migrating data</span><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">DBB Migration Tool</span><meta itemprop="position" content="3"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>DBB Migration Tool</h1><h2 class="anchor anchorWithStickyNavbar_LWe7" id="dbb-migration-tool-overview">DBB Migration Tool overview<a href="#dbb-migration-tool-overview" class="hash-link" aria-label="Direct link to DBB Migration Tool overview" title="Direct link to DBB Migration Tool overview">​</a></h2><p>IBM® Dependency Based Build (DBB) provides a migration tool that facilitates the copying of source code PDS members into a pre-existing local Git repository in z/OS UNIX System Services (z/OS UNIX), stored on the z/OS File System (zFS). The populated local Git repository can then be committed and pushed to a distributed Git server. During the copy process, the DBB Migration Tool will perform the necessary code page conversion from the z/OS code page to the traditional code page used in Git when applicable, create (or update) the <code>.gitattributes</code> file with the correct encoding mappings, tag the z/OS UNIX files with the appropriate code page values, and (potentially) report on any issues encountered during the migration.</p><p>The migration tool is bundled as part of the SMP/e installation of the Dependency Based Build toolkit (FMID HBGZ110) and is typically found under the <a href="https://www.ibm.com/docs/en/dbb/2.0?topic=SS6T76_2.0.0/setup_dbb_toolkit.htm" target="_blank" rel="noopener noreferrer"><code>migration/bin</code> sub-directory</a> of the DBB installation folder (which by default is <code>/usr/lpp/IBM/dbb</code>, unless customized during installation). The setup, general usage, and various options provided by this tool to assist in the migration can be found on the <a href="https://www.ibm.com/docs/en/dbb/2.0?topic=migrating-source-files-from-zos-git" target="_blank" rel="noopener noreferrer">IBM Documentation website</a>.</p><p>The following sections of this page will showcase various migration scenarios using the context that has been described in <a href="/z-devops-acceleration-program/docs/managing-code-page-conversion">Managing code page conversion</a>. The intent is not to provide an exhaustive set of scenarios supported by the migration tool, but rather to focus on common use cases. The scenarios are:</p><ol><li><a href="#1-migration-using-the-default-settings">Migration using the default settings</a></li><li><a href="#2-migration-using-the-pdsencoding-mapping-rule">Migration using the <code>pdsEncoding</code> Mapping Rule</a></li><li><a href="#3-detection-of-non-roundtripable-characters">Detection of non-roundtripable characters</a></li><li><a href="#4-detection-of-non-printable-characters">Detection of non-printable characters</a></li></ol><h2 class="anchor anchorWithStickyNavbar_LWe7" id="example-setup">Example setup<a href="#example-setup" class="hash-link" aria-label="Direct link to Example setup" title="Direct link to Example setup">​</a></h2><p>To illustrate the scenarios, the following sample PDSs were constructed to highlight some specific migration situations that may be encountered and how to mitigate potential issues:</p><ul><li><a href="#migratetechdocsource"><code>MIGRATE.TECHDOC.SOURCE</code></a></li><li><a href="#migratetechdoccopybook"><code>MIGRATE.TECHDOC.COPYBOOK</code></a></li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="migratetechdocsource">MIGRATE.TECHDOC.SOURCE<a href="#migratetechdocsource" class="hash-link" aria-label="Direct link to MIGRATE.TECHDOC.SOURCE" title="Direct link to MIGRATE.TECHDOC.SOURCE">​</a></h3><p>Content of the <code>MIGRATE.TECHDOC.SOURCE</code> dataset:</p><table><thead><tr><th>Member</th><th>Description</th></tr></thead><tbody><tr><td>IBM037</td><td>Member that has been created using the code page of IBM-037.<br>Example: IBM-037 Code Page<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">void main(int argc, char *argv[])</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><strong>Note:</strong> Under the IBM-037 code page, the hexadecimal codes for the <code>[</code> and the <code>]</code> characters are x’BA’ and x’BB’, respectively.</td></tr><tr><td>IBM1047</td><td>Member that has been created using the code page of IBM-1047.<br>Example: IBM-1047 Code Page<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">void main(int argc, char *argv[])</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><strong>Note:</strong> Under the IBM-1047 code page, the hexadecimal codes for the <code>[</code> and the <code>]</code> characters are x’AD’ and x’BD’, respectively.</td></tr></tbody></table><h3 class="anchor anchorWithStickyNavbar_LWe7" id="migratetechdoccopybook">MIGRATE.TECHDOC.COPYBOOK<a href="#migratetechdoccopybook" class="hash-link" aria-label="Direct link to MIGRATE.TECHDOC.COPYBOOK" title="Direct link to MIGRATE.TECHDOC.COPYBOOK">​</a></h3><p>Content of the <code>MIGRATE.TECHDOC.COPYBOOK</code> dataset:</p><table><thead><tr><th>Member</th><th>Description</th></tr></thead><tbody><tr><td>NROUND</td><td>Member that contains non-roundtripable characters.<br>Example: Non-roundtripable characters<pre tabindex="0" class="codeBlockStandalone_MEMb thin-scrollbar codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><code class="codeBlockLines_e6Vv">Line with CHAR_NL (0x15)  ␤<br>Line with CHAR_CR (0x0D)  ␍<br>Line with CHAR_LF (0x25)  ␊<br>Line with CHAR_SHIFT_IN (0x0F)  _<br>Line with CHAR_SHIFT_OUT(0x0E)  _<br>Line with empty CHAR_SHIFT_OUT(0x0E) and CHAR_SHIFT_IN (0x0F)  __</code></pre></td></tr><tr><td>NPRINT</td><td>Member that contains non-printable characters.<br>Example: Non-Printable Characters<pre tabindex="0" class="codeBlockStandalone_MEMb thin-scrollbar codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><code class="codeBlockLines_e6Vv">Line with (0x06)  ?<br>Line with (0x07)  <br>Line with (0x1B)  </code></pre></td></tr><tr><td>HEXCODED</td><td>Member that contains non-printable and non-roundtripable characters.<br>Example: Hexadecimal Coded Characters<pre tabindex="0" class="codeBlockStandalone_MEMb thin-scrollbar codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><code class="codeBlockLines_e6Vv">01   DFHBMSCA.<br>  02 DFHBMPEM  PICTURE X VALUE IS &#x27;_&#x27;.<br>  02 DFHBMPNL  PICTURE X VALUE IS &#x27;␤&#x27;.<br>  02 DFHBMPFF  PICTURE X VALUE IS &#x27;_&#x27;.<br>  02 DFHBMPCR  PICTURE X VALUE IS &#x27;␍&#x27;.<br>  02 DFHBMASK  PICTURE X VALUE IS &#x27;0&#x27;.<br>  02 DFHBMUNP  PICTURE X VALUE IS &#x27; &#x27;.</code></pre></td></tr><tr><td>HEXVALUE</td><td>Member that contains the suggested transformation of the non-printable or non-roundtripable characters contained in the “HEXCODED” member in a more suitable format.<br>Example: Hexadecimal Values<pre tabindex="0" class="codeBlockStandalone_MEMb thin-scrollbar codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><code class="codeBlockLines_e6Vv">01   DFHBMSCA.<br>  02 DFHBMPEM  PICTURE X VALUE IS X&#x27;19&#x27;.<br>  02 DFHBMPNL  PICTURE X VALUE IS X&#x27;15&#x27;.<br>  02 DFHBMPFF  PICTURE X VALUE IS X&#x27;0C&#x27;.<br>  02 DFHBMPCR  PICTURE X VALUE IS X&#x27;0D&#x27;.<br>  02 DFHBMASK  PICTURE X VALUE IS &#x27;0&#x27;.<br>  02 DFHBMUNP  PICTURE X VALUE IS &#x27; &#x27;.</code></pre></td></tr></tbody></table><h2 class="anchor anchorWithStickyNavbar_LWe7" id="migration-scenarios">Migration scenarios<a href="#migration-scenarios" class="hash-link" aria-label="Direct link to Migration scenarios" title="Direct link to Migration scenarios">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="1-migration-using-the-default-settings">1. Migration using the default settings<a href="#1-migration-using-the-default-settings" class="hash-link" aria-label="Direct link to 1. Migration using the default settings" title="Direct link to 1. Migration using the default settings">​</a></h3><p>In this scenario, we will be migrating all the source members in the <code>MIGRATE.TECHDOC.SOURCE</code> PDS using the default settings into a local z/OS UNIX Git Repository under <code>/u/user1/Migration</code>. This is the most simplistic form of invoking the migration tool and, in most cases, satisfies most needs.</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token variable" style="color:#36acaa">$DBB_HOME</span><span class="token plain">/migration/bin/migrate.sh -r /u/user1/Migration -m Mapping Rule</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">hlq:MIGRATE.TECHDOC,extension:SRC,toLower:true</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> SOURCE</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Setting dbb.file.tagging </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">true</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Local GIT repository: /u/user1/Migration</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Mapping: MappingRule</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">hlq:MIGRATE.TECHDOC,extension:SRC,toLower:true</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">MappingRuleId: com.ibm.dbb.migration.MappingRule</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">MappingRuleAttrs: </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">hlq:MIGRATE.TECHDOC, extension:SRC, toLower:true</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Using mapping rule com.ibm.dbb.migration.MappingRule to migrate the data sets</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Migrating data </span><span class="token builtin class-name">set</span><span class="token plain"> SOURCE</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Copying MIGRATE.TECHDOC.SOURCE</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">IBM037</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> to /u/user1/Migration/source/ibm037.src using default encoding</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Copying MIGRATE.TECHDOC.SOURCE</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">IBM1047</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> to /u/user1/Migration/source/ibm1047.src using default encoding</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">** Build finished</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Note that the migration tool is using a default encoding, which is IBM-1047.</p><p>An examination of the files on the local z/OS UNIX Git repository will reveal that the files were copied and were tagged with the default code page of IBM-1047.</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">ls</span><span class="token plain"> -alT /u/user1/Migration/source</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">total </span><span class="token number" style="color:#36acaa">64</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    drwxr-xr-x   </span><span class="token number" style="color:#36acaa">2</span><span class="token plain"> USER1    OMVS        </span><span class="token number" style="color:#36acaa">8192</span><span class="token plain"> May  </span><span class="token number" style="color:#36acaa">4</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">12</span><span class="token plain">:33 </span><span class="token builtin class-name">.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    drwxr-xr-x   </span><span class="token number" style="color:#36acaa">4</span><span class="token plain"> USER1    OMVS        </span><span class="token number" style="color:#36acaa">8192</span><span class="token plain"> May  </span><span class="token number" style="color:#36acaa">4</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">12</span><span class="token plain">:33 </span><span class="token punctuation" style="color:#393A34">..</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">t IBM-1047    </span><span class="token assign-left variable" style="color:#36acaa">T</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">on  -rw-r--r--   </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"> USER1    OMVS          </span><span class="token number" style="color:#36acaa">61</span><span class="token plain"> May  </span><span class="token number" style="color:#36acaa">4</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">12</span><span class="token plain">:33 ibm037.src</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">t IBM-1047    </span><span class="token assign-left variable" style="color:#36acaa">T</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">on  -rw-r--r--   </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"> USER1    OMVS          </span><span class="token number" style="color:#36acaa">61</span><span class="token plain"> May  </span><span class="token number" style="color:#36acaa">4</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">12</span><span class="token plain">:33 ibm1047.src</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Additionally, the <code>.gitattributes</code> file was created (or updated) with the correct encoding mappings. All source artifacts, except those tagged as binary (to be discussed later), will be stowed in the distributed Git server using the UTF-8 code page (as defined by the <code>git-encoding=utf-8</code> parameter), whereas any artifacts that are copied from the distributed Git server to z/OS will be translated to the IBM-1047 code page (as defined by the <code>zos-working-tree-encoding=ibm-1047</code> parameter). The documentation on <a href="/z-devops-acceleration-program/docs/managing-code-page-conversion#defining-the-code-page-of-files-in-git">Defining the code page of files in Git</a> provides more information.</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">cat</span><span class="token plain"> /u/user1/Migration/.gitattributes</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">source/*.src zos-working-tree-encoding</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">ibm-1047 git-encoding</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">utf-8</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>At this point, Git actions such as add/commit/push can be performed on the migrated source artifacts to the distributed Git server.</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">git</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">add</span><span class="token plain"> </span><span class="token builtin class-name">.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">git</span><span class="token plain"> commit -m </span><span class="token string" style="color:#e3116c">&quot;Simple Migration Example&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">main 6436b92</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> Simple Migration Example</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token number" style="color:#36acaa">3</span><span class="token plain"> files changed, </span><span class="token number" style="color:#36acaa">5</span><span class="token plain"> insertions</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">+</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> create mode </span><span class="token number" style="color:#36acaa">100644</span><span class="token plain"> .gitattributes</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> create mode </span><span class="token number" style="color:#36acaa">100644</span><span class="token plain"> source/ibm037.src</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> create mode </span><span class="token number" style="color:#36acaa">100644</span><span class="token plain"> source/ibm1047.src</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">git</span><span class="token plain"> push</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Counting objects: </span><span class="token number" style="color:#36acaa">6</span><span class="token plain">, done.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Compressing objects: </span><span class="token number" style="color:#36acaa">100</span><span class="token plain">% </span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">6</span><span class="token plain">/6</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">, done.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Writing objects: </span><span class="token number" style="color:#36acaa">100</span><span class="token plain">% </span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">6</span><span class="token plain">/6</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">, </span><span class="token number" style="color:#36acaa">634</span><span class="token plain"> bytes </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">211.00</span><span class="token plain"> KiB/s, done.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Total </span><span class="token number" style="color:#36acaa">6</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">delta </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">, reused </span><span class="token number" style="color:#36acaa">0</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">delta </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">To github.ibm.com:user1/Migration.git</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   3d2962a</span><span class="token punctuation" style="color:#393A34">..</span><span class="token plain">6436b92  main -</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> main</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Once the Git push command has completed to the distributed Git server, the resulting files should be translated into the correct UTF-8 code page.</p><p><img loading="lazy" alt="DBB Migration Tool scenario 1, .gitattributes file" src="/z-devops-acceleration-program/assets/images/migration-git-scen1-gitattributes-edb30fc0aef94e8e01c917d968220f76.png" width="400" height="178" class="img_ev3q"></p><p><img loading="lazy" alt="DBB Migration Tool scenario 1, ibm1047.src file" src="/z-devops-acceleration-program/assets/images/migration-git-scen1-ibm1047-8b1eddf49bde479bd6e2b0c62aa59e31.png" width="402" height="200" class="img_ev3q"></p><p><img loading="lazy" alt="DBB Migration Tool scenario 1, ibm037.src file" src="/z-devops-acceleration-program/assets/images/migration-git-scen1-ibm037-4909f893168bf2e50d1879bd524306c7.png" width="402" height="216" class="img_ev3q"></p><p>However, as indicated in the last picture above, the <code>ibm037.src</code> file reveals an encoding issue. This will be discussed in the next scenario.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="2-migration-using-the-pdsencoding-mapping-rule">2. Migration using the pdsEncoding Mapping Rule<a href="#2-migration-using-the-pdsencoding-mapping-rule" class="hash-link" aria-label="Direct link to 2. Migration using the pdsEncoding Mapping Rule" title="Direct link to 2. Migration using the pdsEncoding Mapping Rule">​</a></h3><p>In this scenario, we will be migrating a single source member from the <code>MIGRATE.TECHDOC.SOURCE PDS</code> using the <code>pdsEncoding</code> keyword in the mapping rule to override the default encoding. Recall that from the previous migration scenario, there was an encoding issue with the final copy of the <code>ibm037.src</code> file in the distributed Git server. This occurred because the z/OS file was written using the IBM-037 code page instead of the default IBM-1047 code page. The problem is not in how the file was encoded, but rather how the Rocket Git client converted the file when sending it to Git.</p><p>This can be a common occurrence for source files that pre-date the introduction of z/OS Unix System Services (z/OS UNIX), and where high-level languages, such as C/370, were utilized. As stated previously, determining the original encoding can be a challenge since the code page used to create the file is generally specified in the 3270 Emulator (TN3270) client session set-up. Therefore, an analysis of the z/OS source should be performed to determine the original code page used to create the source. To determine the code page used to create files through ISPF, an alternate option is to ask the developers which code page they are using to edit the files through their 3270 connections.</p><p>To correct the encoding issue identified in the previous scenario, we will use the <code>pdsEncoding</code> keyword of the mapping rule to override the default IBM-1047 code page with IBM-037 for the offending member.</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token variable" style="color:#36acaa">$DBB_HOME</span><span class="token plain">/migration/bin/migrate.sh -r /u/user1/Migration -m MappingRule</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">hlq:MIGRATE.TECHDOC,extension:SRC,toLower:true,pdsEncoding:IBM-037</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;SOURCE(IBM037)&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Setting dbb.file.tagging </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">true</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Local GIT repository: /u/user1/Migration</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Mapping: MappingRule</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">hlq:MIGRATE.TECHDOC,extension:SRC,toLower:true,pdsEncoding:IBM-037</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">MappingRuleId: com.ibm.dbb.migration.MappingRule</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">MappingRuleAttrs: </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">hlq:MIGRATE.TECHDOC, extension:SRC, toLower:true, pdsEncoding:IBM-037</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Using mapping rule com.ibm.dbb.migration.MappingRule to migrate the data sets</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Migrating data </span><span class="token builtin class-name">set</span><span class="token plain"> SOURCE</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">IBM037</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Copying MIGRATE.TECHDOC.SOURCE</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">IBM037</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> to /u/user1/Migration/source/ibm037.src using IBM-037</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">** Build finished</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Note that the migration tool is using the override encoding of IBM-037 for a named member. This override does not necessarily have to be performed on a member-by-member basis, as the migration tool supports the ability to override the encoding for an entire PDS being migrated.</p><p>An examination of the files on the local z/OS UNIX Git repository will reveal that the file was copied and tagged with the override code page of IBM-037.</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">ls</span><span class="token plain"> -alT /u/user1/Migration/source</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">total </span><span class="token number" style="color:#36acaa">64</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    drwxr-xr-x   </span><span class="token number" style="color:#36acaa">2</span><span class="token plain"> USER1    OMVS        </span><span class="token number" style="color:#36acaa">8192</span><span class="token plain"> May  </span><span class="token number" style="color:#36acaa">4</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">13</span><span class="token plain">:10 </span><span class="token builtin class-name">.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    drwxr-xr-x   </span><span class="token number" style="color:#36acaa">4</span><span class="token plain"> USER1    OMVS        </span><span class="token number" style="color:#36acaa">8192</span><span class="token plain"> May  </span><span class="token number" style="color:#36acaa">4</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">13</span><span class="token plain">:10 </span><span class="token punctuation" style="color:#393A34">..</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">t IBM-037     </span><span class="token assign-left variable" style="color:#36acaa">T</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">on  -rw-r--r--   </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"> USER1    OMVS          </span><span class="token number" style="color:#36acaa">61</span><span class="token plain"> May  </span><span class="token number" style="color:#36acaa">4</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">14</span><span class="token plain">:54 ibm037.src</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">t IBM-1047    </span><span class="token assign-left variable" style="color:#36acaa">T</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">on  -rw-r--r--   </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"> USER1    OMVS          </span><span class="token number" style="color:#36acaa">61</span><span class="token plain"> May  </span><span class="token number" style="color:#36acaa">4</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">13</span><span class="token plain">:10 ibm1047.src</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Additionally, the <code>.gitattributes</code> file was updated with the correct encoding mappings:</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">cat</span><span class="token plain"> /u/user1/Migration/.gitattributes</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">source/*.src zos-working-tree-encoding</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">ibm-1047 git-encoding</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">utf-8</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">source/*.src zos-working-tree-encoding</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">IBM-037 git-encoding</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">utf-8</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>However, in this example you will notice a slight anomaly in that there are two (2) entries for the same sub-folder source/*.src. This will cause an encoding conflict during the Git add action. To correct this situation, the <code>.gitattributes</code> file must be manually updated to add the file name. Wild cards can be used in the file name should there be more than one member that matches this situation. The order of these entries is important, with the last entry taking precedence. In some cases, additional wild carding may be required to prevent further conflicts.</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">cat</span><span class="token plain"> /u/user1/Migration/.gitattributes</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">source/*.src zos-working-tree-encoding</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">ibm-1047 git-encoding</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">utf-8</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">source/ibm037.src zos-working-tree-encoding</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">IBM-037 git-encoding</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">utf-8</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Once the correction has been made to the <code>.gitattributes</code> file, the Git commit and push actions can be performed on the updated files to the distributed Git server:</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">git</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">add</span><span class="token plain"> </span><span class="token builtin class-name">.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">git</span><span class="token plain"> commit -m </span><span class="token string" style="color:#e3116c">&quot;IBM037 Code Page Fix&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">main 107c86c</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> IBM037 Code Page Fix</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token plain"> files changed, </span><span class="token number" style="color:#36acaa">2</span><span class="token plain"> insertions</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">+</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">, </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"> deletion</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">-</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">git</span><span class="token plain"> push</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Counting objects: </span><span class="token number" style="color:#36acaa">5</span><span class="token plain">, done.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Compressing objects: </span><span class="token number" style="color:#36acaa">100</span><span class="token plain">% </span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">5</span><span class="token plain">/5</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">, done.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Writing objects: </span><span class="token number" style="color:#36acaa">100</span><span class="token plain">% </span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">5</span><span class="token plain">/5</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">, </span><span class="token number" style="color:#36acaa">485</span><span class="token plain"> bytes </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">485.00</span><span class="token plain"> KiB/s, done.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Total </span><span class="token number" style="color:#36acaa">5</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">delta </span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">, reused </span><span class="token number" style="color:#36acaa">0</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">delta </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">To github.ibm.com:user1/Migration.git</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   6436b92</span><span class="token punctuation" style="color:#393A34">..</span><span class="token plain">107c86c  main -</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> main   3d2962a</span><span class="token punctuation" style="color:#393A34">..</span><span class="token plain">6436b92  main -</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> main</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Now when examining the offending file on the distributed Git server, the contents of the file should be translated correctly:</p><p><img loading="lazy" alt="DBB Migration Tool scenario 2, ibm037.src file" src="/z-devops-acceleration-program/assets/images/migration-git-scen2-ibm037-725b773e7f10948bc57616e64fc0fe4f.png" width="370" height="214" class="img_ev3q"></p><p>The probability that members of a single PDS were written using a different code page, though possible, is extremely low. However, it is worth pointing out that it could expose an issue in how the migration tool generates the <code>.gitattributes</code> file.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="3-detection-of-non-roundtripable-characters">3. Detection of non-roundtripable characters<a href="#3-detection-of-non-roundtripable-characters" class="hash-link" aria-label="Direct link to 3. Detection of non-roundtripable characters" title="Direct link to 3. Detection of non-roundtripable characters">​</a></h3><p>In this scenario, we will examine how the migration tool can assist in the detection of what is known as non-roundtripable characters. The documentation on <a href="/z-devops-acceleration-program/docs/managing-code-page-conversion#managing-non-printable-and-non-roundtripable-characters">Managing non-printable and non-roundtripable characters</a> provides more conceptual background information. To illustrate this, we will be migrating the single source member <code>MIGRATE.TECHDOC.COPYBOOK(NROUND)</code>, which contains both types of characters.</p><p>During the migration of a PDS member to a z/OS UNIX file, the migration tool will scan the content of the file to see if it detects any non-roundtripable characters. These characters are defined in the <code>migrate.groovy</code> script and are:</p><div class="language-groovy codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-groovy codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">@Field def CHAR_NL = 0x15</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">@Field def CHAR_CR = 0x0D</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">@Field def CHAR_LF = 0x25</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">@Field def CHAR_SHIFT_IN = 0x0F</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">@Field def CHAR_SHIFT_OUT = 0x0E</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>If detected, the migration tool will emit a diagnostic message in the console log and will copy the member to z/OS UNIX as binary and therefore no code page conversion will be performed:</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token variable" style="color:#36acaa">$DBB_HOME</span><span class="token plain">/migration/bin/migrate.sh -r /u/user1/Migration -m MappingRule</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">hlq:MIGRATE.TECHDOC,extension:CPY,toLower:true,pdsEncoding:IBM-037</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;COPYBOOK(NROUND)&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Local GIT repository: /u/user1/Migration</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Using mapping rule com.ibm.dbb.migration.MappingRule to migrate the data sets</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Migrating data </span><span class="token builtin class-name">set</span><span class="token plain"> COPYBOOK</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">NROUND</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">WARNING</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> Copying MIGRATE.TECHDOC.COPYBOOK</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">NROUND</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> to /u/user1/Migration/copybook/nround.cpy</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token operator" style="color:#393A34">!</span><span class="token plain"> Possible migration issue:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      Line </span><span class="token number" style="color:#36acaa">2</span><span class="token plain"> contains non-roundtripable characters:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Char 0x15 at </span><span class="token function" style="color:#d73a49">column</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">27</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      Line </span><span class="token number" style="color:#36acaa">3</span><span class="token plain"> contains non-roundtripable characters:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Char 0x0D at </span><span class="token function" style="color:#d73a49">column</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">27</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      Line </span><span class="token number" style="color:#36acaa">4</span><span class="token plain"> contains non-roundtripable characters:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Char 0x25 at </span><span class="token function" style="color:#d73a49">column</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">27</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      Line </span><span class="token number" style="color:#36acaa">7</span><span class="token plain"> contains non-roundtripable characters:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Empty Shift Out and Shift In at </span><span class="token function" style="color:#d73a49">column</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">74</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token operator" style="color:#393A34">!</span><span class="token plain"> Copying using BINARY mode</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">** Build finished</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Note that the migration tool has detected numerous non-roundtripable characters on various lines and has performed the copy as binary.</p><p>An examination of the files on the local z/OS UNIX Git Repository will reveal that the file was copied but left untagged (this is a current known limitation for the DBB Toolkit in its 1.1.3 version, and a workaround is available upon request).</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">ls</span><span class="token plain"> -alT /u/user1/Migration/copybook</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">total </span><span class="token number" style="color:#36acaa">48</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    drwxr-xr-x   </span><span class="token number" style="color:#36acaa">2</span><span class="token plain"> USER1    OMVS        </span><span class="token number" style="color:#36acaa">8192</span><span class="token plain"> May  </span><span class="token number" style="color:#36acaa">6</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">13</span><span class="token plain">:42 </span><span class="token builtin class-name">.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    drwxr-xr-x   </span><span class="token number" style="color:#36acaa">4</span><span class="token plain"> USER1    OMVS        </span><span class="token number" style="color:#36acaa">8192</span><span class="token plain"> May  </span><span class="token number" style="color:#36acaa">6</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">13</span><span class="token plain">:42 </span><span class="token punctuation" style="color:#393A34">..</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">- untagged    </span><span class="token assign-left variable" style="color:#36acaa">T</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">off -rw-r--r--   </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"> USER1    OMVS         </span><span class="token number" style="color:#36acaa">560</span><span class="token plain"> May  </span><span class="token number" style="color:#36acaa">6</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">13</span><span class="token plain">:42 nround.cpy</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>To be processed by the Rocket Git client when performing the Git add command, the file should be manually tagged as binary first. To correctly tag the file as binary, use the <code>chtag -b</code> command prior to performing the Git add command:</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">ls</span><span class="token plain"> -alT /u/user1/Migration/copybook</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">total </span><span class="token number" style="color:#36acaa">48</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    drwxr-xr-x   </span><span class="token number" style="color:#36acaa">2</span><span class="token plain"> USER1    OMVS        </span><span class="token number" style="color:#36acaa">8192</span><span class="token plain"> May  </span><span class="token number" style="color:#36acaa">8</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">13</span><span class="token plain">:10 </span><span class="token builtin class-name">.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    drwxr-xr-x   </span><span class="token number" style="color:#36acaa">5</span><span class="token plain"> USER1    OMVS        </span><span class="token number" style="color:#36acaa">8192</span><span class="token plain"> May  </span><span class="token number" style="color:#36acaa">8</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">13</span><span class="token plain">:12 </span><span class="token punctuation" style="color:#393A34">..</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">b binary      </span><span class="token assign-left variable" style="color:#36acaa">T</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">off -rw-r--r--   </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"> USER1    OMVS         </span><span class="token number" style="color:#36acaa">560</span><span class="token plain"> May  </span><span class="token number" style="color:#36acaa">8</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">13</span><span class="token plain">:10 nround.cpy</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Additionally, the <code>.gitattributes</code> file was automatically updated by the migration script to indicate that the file is mapped as binary:</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">cat</span><span class="token plain"> /u/user1/Migration/.gitattributes</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">copybook/nround.cpy binary</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>During the Git push to the distributed Git server, Git will treat this as a binary file and no conversion to UTF-8 will take place. In essence, the resulting file on the distributed Git server will be the original contents of the PDS member, in EBCDIC.</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">git</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">add</span><span class="token plain"> </span><span class="token builtin class-name">.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">warning: copybook/nround.cpy added </span><span class="token function" style="color:#d73a49">file</span><span class="token plain"> have been automatically tagged BINARY because they were untagged yet the .gitattributes </span><span class="token function" style="color:#d73a49">file</span><span class="token plain"> specifies they should be tagged</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">git</span><span class="token plain"> commit -m </span><span class="token string" style="color:#e3116c">&quot;Binary File&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">main 0213795</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> Binary File</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token plain"> files changed, </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"> insertion</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">+</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> create mode </span><span class="token number" style="color:#36acaa">100644</span><span class="token plain"> .gitattributes</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> create mode </span><span class="token number" style="color:#36acaa">100644</span><span class="token plain"> copybook/nround.cpy</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">git</span><span class="token plain"> push</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Counting objects: </span><span class="token number" style="color:#36acaa">5</span><span class="token plain">, done.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Compressing objects: </span><span class="token number" style="color:#36acaa">100</span><span class="token plain">% </span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">3</span><span class="token plain">/3</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">, done.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Writing objects: </span><span class="token number" style="color:#36acaa">100</span><span class="token plain">% </span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">5</span><span class="token plain">/5</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">, </span><span class="token number" style="color:#36acaa">598</span><span class="token plain"> bytes </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">598.00</span><span class="token plain"> KiB/s, done.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Total </span><span class="token number" style="color:#36acaa">5</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">delta </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">, reused </span><span class="token number" style="color:#36acaa">0</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">delta </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">To github.ibm.com:user1/Migration.git</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   e901992</span><span class="token punctuation" style="color:#393A34">..</span><span class="token plain">0213795  main -</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> main</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Once the Git push action has completed to the distributed Git server, the resulting file will be treated as binary:</p><p><img loading="lazy" alt="DBB Migration Tool scenario 3, binary nround.cpy file in Git" src="/z-devops-acceleration-program/assets/images/migration-git-scen3-bin-d652e9559d0942ba159859bc50bd0847.png" width="462" height="182" class="img_ev3q"></p><p>This may not be an ideal situation as described in the documentation on <a href="/z-devops-acceleration-program/docs/managing-code-page-conversion#managing-non-printable-and-non-roundtripable-characters">Managing non-printable and non-roundtripable characters</a>, and should be corrected/reconciled before continuing with the migration.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="4-detection-of-non-printable-characters">4. Detection of non-printable characters<a href="#4-detection-of-non-printable-characters" class="hash-link" aria-label="Direct link to 4. Detection of non-printable characters" title="Direct link to 4. Detection of non-printable characters">​</a></h3><p>In this final scenario, we will examine how the migration tool can assist in the detection of what is known as non-printable characters. The documentation on <a href="/z-devops-acceleration-program/docs/managing-code-page-conversion#managing-non-printable-and-non-roundtripable-characters">Managing non-printable and non-roundtripable characters</a> provides more conceptual background information. To illustrate this, we will again migrate the single source member <code>MIGRATE.TECHDOC.COPYBOOK(NPRINT)</code>, which only contains non-printable characters.</p><p>During the migration of a PDS member to a z/OS UNIX file, the migration tool will scan the content of the file to see if it detects any non-printable characters. These characters are defined as any hexadecimal values that are an EBCDIC x’40’ or less, and not one of the five (5) non-roundtripable characters.</p><p>The migration tool provides three (3) options on how to handle and report on these characters:</p><ol><li>Do Not Check: The non-printable characters are not researched; the member is simply copied as text. Code page conversion will occur.</li><li>Info: The script will emit an Informational diagnostic message in the console log if a non-printable  character is detected and the file is copied as text. Code page conversion will occur.</li><li>Warning: The script will emit a Warning diagnostic message in the console log if a non-printable character is detected and the file is copied as binary. No code page conversion will occur, and the offending characters will be treated like non-roundtripable characters.</li></ol><p>It should be noted that for the “Do Not Check” and “Info” options, although code page conversion is taking place, this could cause an issue later. The file may not be easily maintained with a distributed editor, and you run the risk of having corrupted files.</p><p>Controlling what level of checking should be performed during the migration is done via the optional scan level <code>-np</code>, <code>--non-printable &lt;level&gt;</code> parameter switch passed to the migration script. If the scan level parameter is not specified, the non-printable characters are not checked (equates to the “Do Not Check” option).</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="scan-level-set-to-info">Scan level set to <code>info</code><a href="#scan-level-set-to-info" class="hash-link" aria-label="Direct link to scan-level-set-to-info" title="Direct link to scan-level-set-to-info">​</a></h4><p>Example output for migration performed with scan level set to <code>info</code>:</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token variable" style="color:#36acaa">$DBB_HOME</span><span class="token plain">/migration/bin/migrate.sh -r /u/user1/Migration -np info -m MappingRule</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">hlq:MIGRATE.TECHDOC,extension:CPY,toLower:true,pdsEncoding:IBM-037</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;COPYBOOK(NPRINT)&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Non-printable scan level is info</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Local GIT repository: /u/user1/Migration</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Using mapping rule com.ibm.dbb.migration.MappingRule to migrate the data sets</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Migrating data </span><span class="token builtin class-name">set</span><span class="token plain"> COPYBOOK</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">NPRINT</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">INFO</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> Copying MIGRATE.TECHDOC.COPYBOOK</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">NPRINT</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> to /u/user1/Migration/copybook/nprint.cpy using IBM-037</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token operator" style="color:#393A34">!</span><span class="token plain"> Possible migration issue:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      Line </span><span class="token number" style="color:#36acaa">2</span><span class="token plain"> contains non-printable characters:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Char 0x00 at </span><span class="token function" style="color:#d73a49">column</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">19</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      Line </span><span class="token number" style="color:#36acaa">3</span><span class="token plain"> contains non-printable characters:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Char 0x06 at </span><span class="token function" style="color:#d73a49">column</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">19</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      Line </span><span class="token number" style="color:#36acaa">4</span><span class="token plain"> contains non-printable characters:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Char 0x07 at </span><span class="token function" style="color:#d73a49">column</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">19</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      Line </span><span class="token number" style="color:#36acaa">5</span><span class="token plain"> contains non-printable characters:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Char 0x1B at </span><span class="token function" style="color:#d73a49">column</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">19</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">** Build finished</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Note that the migration tool has detected numerous non-printable characters on various lines and has performed the copy as text and will be tagged on z/OS UNIX using the supplied encoding of IBM-037:</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">ls</span><span class="token plain"> -alT /u/user1/Migration/copybook</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">total </span><span class="token number" style="color:#36acaa">64</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    drwxr-xr-x   </span><span class="token number" style="color:#36acaa">2</span><span class="token plain"> USER1    OMVS        </span><span class="token number" style="color:#36acaa">8192</span><span class="token plain"> May  </span><span class="token number" style="color:#36acaa">6</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">15</span><span class="token plain">:39 </span><span class="token builtin class-name">.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    drwxr-xr-x   </span><span class="token number" style="color:#36acaa">4</span><span class="token plain"> USER1    OMVS        </span><span class="token number" style="color:#36acaa">8192</span><span class="token plain"> May  </span><span class="token number" style="color:#36acaa">6</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">14</span><span class="token plain">:55 </span><span class="token punctuation" style="color:#393A34">..</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">t IBM-037     </span><span class="token assign-left variable" style="color:#36acaa">T</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">on  -rw-r--r--   </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"> USER1    OMVS         </span><span class="token number" style="color:#36acaa">114</span><span class="token plain"> May  </span><span class="token number" style="color:#36acaa">6</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">15</span><span class="token plain">:39 nprint.cpy</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="scan-level-set-to-warning">Scan level set to warning<a href="#scan-level-set-to-warning" class="hash-link" aria-label="Direct link to Scan level set to warning" title="Direct link to Scan level set to warning">​</a></h4><p>Example output for migration performed with scan level set to <code>warning</code>:</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token variable" style="color:#36acaa">$DBB_HOME</span><span class="token plain">/migration/bin/migrate.sh -r /u/user1/Migration -np warning -m MappingRule</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">hlq:MIGRATE.TECHDOC,extension:CPY,toLower:true,pdsEncoding:IBM-037</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;COPYBOOK(NPRINT)&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Non-printable scan level is warning</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Local GIT repository: /u/user1/Migration</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Using mapping rule com.ibm.dbb.migration.MappingRule to migrate the data sets</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Migrating data </span><span class="token builtin class-name">set</span><span class="token plain"> COPYBOOK</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">NPRINT</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">WARNING</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> Copying MIGRATE.TECHDOC.COPYBOOK</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">NPRINT</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> to /u/user1/Migration/copybook/nprint.cpy</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token operator" style="color:#393A34">!</span><span class="token plain"> Possible migration issue:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      Line </span><span class="token number" style="color:#36acaa">2</span><span class="token plain"> contains non-printable characters:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Char 0x06 at </span><span class="token function" style="color:#d73a49">column</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">19</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      Line </span><span class="token number" style="color:#36acaa">3</span><span class="token plain"> contains non-printable characters:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Char 0x07 at </span><span class="token function" style="color:#d73a49">column</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">19</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      Line </span><span class="token number" style="color:#36acaa">4</span><span class="token plain"> contains non-printable characters:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Char 0x1B at </span><span class="token function" style="color:#d73a49">column</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">19</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token operator" style="color:#393A34">!</span><span class="token plain"> Copying using BINARY mode</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">** Build finished</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Note that the migration tool has detected numerous non-printable characters on various lines and has performed the copy as binary. The file remains untagged on z/OS UNIX (the manual tagging of the file is still required):</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">ls</span><span class="token plain"> -alT /u/user1/Migration/copybook</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">total </span><span class="token number" style="color:#36acaa">48</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    drwxr-xr-x   </span><span class="token number" style="color:#36acaa">2</span><span class="token plain"> USER1    OMVS        </span><span class="token number" style="color:#36acaa">8192</span><span class="token plain"> May  </span><span class="token number" style="color:#36acaa">6</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">17</span><span class="token plain">:17 </span><span class="token builtin class-name">.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    drwxr-xr-x   </span><span class="token number" style="color:#36acaa">4</span><span class="token plain"> USER1    OMVS        </span><span class="token number" style="color:#36acaa">8192</span><span class="token plain"> May  </span><span class="token number" style="color:#36acaa">6</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">17</span><span class="token plain">:17 </span><span class="token punctuation" style="color:#393A34">..</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">- untagged    </span><span class="token assign-left variable" style="color:#36acaa">T</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">off -rw-r--r--   </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"> USER1    OMVS         </span><span class="token number" style="color:#36acaa">320</span><span class="token plain"> May  </span><span class="token number" style="color:#36acaa">6</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">17</span><span class="token plain">:17 nprint.cpy</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="recommendations-for-using-the-migration-utility">Recommendations for using the migration utility<a href="#recommendations-for-using-the-migration-utility" class="hash-link" aria-label="Direct link to Recommendations for using the migration utility" title="Direct link to Recommendations for using the migration utility">​</a></h2><p>A strategy must be decided on how to handle both non-printable and non-roundtripable characters found in source members that are to be migrated from z/OS PDSs to Git. The <code>HEXCODED</code> member, though not demonstrated in the above scenarios, is a common occurrence in many older legacy applications. Source code members such as this need to be identified and transformed to that shown in the <code>HEXVALUE</code> member if the goal is to manage the source seamlessly using the modernized tooling provided through Git. For more conceptual background information, please refer to <a href="/z-devops-acceleration-program/docs/managing-code-page-conversion#managing-non-printable-and-non-roundtripable-characters">Managing non-printable and non-roundtripable characters</a>.</p><p>The DBB Migration Tool provides an option to perform a scan of the z/OS PDSs to assist in the analysis and correction/reconciliation of these situations prior to performing the copy to the local Git repository. Invoking this scan is done via the optional preview <code>-p</code>, <code>--preview</code> parameter switch and will bypass the copy.  The default is “No Preview”. An example of the preview follows:</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token variable" style="color:#36acaa">$DBB_HOME</span><span class="token plain">/migration/bin/migrate.sh -r /u/user1/Migration -np warning -p -m MappingRule</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">hlq:MIGRATE.TECHDOC,extension:CPY,toLower:true,pdsEncoding:IBM-037</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> COPYBOOK</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Non-printable scan level is warning</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Preview flag is specified, no members will be copied to HFS</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Local GIT repository: /u/user1/Migration</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Using mapping rule com.ibm.dbb.migration.MappingRule to migrate the data sets</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Migrating data </span><span class="token builtin class-name">set</span><span class="token plain"> COPYBOOK</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">WARNING</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> Previewing MIGRATE.TECHDOC.COPYBOOK</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">HEXCODED</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token operator" style="color:#393A34">!</span><span class="token plain"> Possible migration issue:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      Line </span><span class="token number" style="color:#36acaa">3</span><span class="token plain"> contains non-printable characters:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Char 0x19 at </span><span class="token function" style="color:#d73a49">column</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">37</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      Line </span><span class="token number" style="color:#36acaa">4</span><span class="token plain"> contains non-roundtripable characters:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Char 0x15 at </span><span class="token function" style="color:#d73a49">column</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">37</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      Line </span><span class="token number" style="color:#36acaa">5</span><span class="token plain"> contains non-printable characters:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Char 0x0C at </span><span class="token function" style="color:#d73a49">column</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">37</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      Line </span><span class="token number" style="color:#36acaa">6</span><span class="token plain"> contains non-roundtripable characters:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Char 0x0D at </span><span class="token function" style="color:#d73a49">column</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">37</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token operator" style="color:#393A34">!</span><span class="token plain"> Will copy using BINARY mode</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Previewing MIGRATE.TECHDOC.COPYBOOK</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">HEXVALUE</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">. Using IBM-037.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">WARNING</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> Previewing MIGRATE.TECHDOC.COPYBOOK</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">NPRINT</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token operator" style="color:#393A34">!</span><span class="token plain"> Possible migration issue:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      Line </span><span class="token number" style="color:#36acaa">2</span><span class="token plain"> contains non-printable characters:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Char 0x06 at </span><span class="token function" style="color:#d73a49">column</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">19</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      Line </span><span class="token number" style="color:#36acaa">3</span><span class="token plain"> contains non-printable characters:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Char 0x07 at </span><span class="token function" style="color:#d73a49">column</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">19</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      Line </span><span class="token number" style="color:#36acaa">4</span><span class="token plain"> contains non-printable characters:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Char 0x1B at </span><span class="token function" style="color:#d73a49">column</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">19</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token operator" style="color:#393A34">!</span><span class="token plain"> Will copy using BINARY mode</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">WARNING</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> Previewing MIGRATE.TECHDOC.COPYBOOK</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">NROUND</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token operator" style="color:#393A34">!</span><span class="token plain"> Possible migration issue:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      Line </span><span class="token number" style="color:#36acaa">2</span><span class="token plain"> contains non-roundtripable characters:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Char 0x15 at </span><span class="token function" style="color:#d73a49">column</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">27</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      Line </span><span class="token number" style="color:#36acaa">3</span><span class="token plain"> contains non-roundtripable characters:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Char 0x0D at </span><span class="token function" style="color:#d73a49">column</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">27</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      Line </span><span class="token number" style="color:#36acaa">4</span><span class="token plain"> contains non-roundtripable characters:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Char 0x25 at </span><span class="token function" style="color:#d73a49">column</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">27</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      Line </span><span class="token number" style="color:#36acaa">5</span><span class="token plain"> contains non-printable characters:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Char 0x0F at </span><span class="token function" style="color:#d73a49">column</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">33</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      Line </span><span class="token number" style="color:#36acaa">7</span><span class="token plain"> contains non-roundtripable characters:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Empty Shift Out and Shift In at </span><span class="token function" style="color:#d73a49">column</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">74</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token operator" style="color:#393A34">!</span><span class="token plain"> Will copy using BINARY mode</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>With the <code>-l</code>, <code>--log</code> option, a log file can be created to contain all the messages about the migration process, including the non-printable and non-roundtripable characters encountered during the scan. This log file can be used by the developers to perform the necessary changes in their original source code members prior to the real migration process.</p><p>Many other options of the Mapping Rule parameter can be leveraged to control the behavior of the DBB Migration Tool. These options are described on the <a href="https://www.ibm.com/docs/en/dbb/2.0?topic=migrating-source-files-from-zos-git" target="_blank" rel="noopener noreferrer">IBM Documentation website</a>.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="migrating-from-ibm-engineering-workflow-management-to-git">Migrating from IBM Engineering Workflow Management to GIT<a href="#migrating-from-ibm-engineering-workflow-management-to-git" class="hash-link" aria-label="Direct link to Migrating from IBM Engineering Workflow Management to GIT" title="Direct link to Migrating from IBM Engineering Workflow Management to GIT">​</a></h2><p>For specific information on using the DBB Migration Tool to migrate from IBM Engineering Workflow Management (EWM) to Git, please reference <a href="https://www.ibm.com/support/pages/node/6538618" target="_blank" rel="noopener noreferrer">Migrating from IBM Engineering Workflow Management (EWM) to GIT</a>.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="resources">Resources<a href="#resources" class="hash-link" aria-label="Direct link to Resources" title="Direct link to Resources">​</a></h2><ul><li>This page contains reformatted excerpts from <a href="https://www.ibm.com/support/pages/node/6591177" target="_blank" rel="noopener noreferrer">Managing the code page conversion when migrating z/OS source files to Git</a>.</li></ul></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/z-devops-acceleration-program/docs/managing-code-page-conversion"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Managing code page conversion</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/z-devops-acceleration-program/docs/sclm-git-migration-tool"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">SCLM-to-Git Migration Tool</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><p style="margin:-2px auto -10px 17px">On this page</p><ul class="table-of-contents table-of-contents__left-border"><li><a href="#dbb-migration-tool-overview" class="table-of-contents__link toc-highlight">DBB Migration Tool overview</a></li><li><a href="#example-setup" class="table-of-contents__link toc-highlight">Example setup</a><ul><li><a href="#migratetechdocsource" class="table-of-contents__link toc-highlight">MIGRATE.TECHDOC.SOURCE</a></li><li><a href="#migratetechdoccopybook" class="table-of-contents__link toc-highlight">MIGRATE.TECHDOC.COPYBOOK</a></li></ul></li><li><a href="#migration-scenarios" class="table-of-contents__link toc-highlight">Migration scenarios</a><ul><li><a href="#1-migration-using-the-default-settings" class="table-of-contents__link toc-highlight">1. Migration using the default settings</a></li><li><a href="#2-migration-using-the-pdsencoding-mapping-rule" class="table-of-contents__link toc-highlight">2. Migration using the pdsEncoding Mapping Rule</a></li><li><a href="#3-detection-of-non-roundtripable-characters" class="table-of-contents__link toc-highlight">3. Detection of non-roundtripable characters</a></li><li><a href="#4-detection-of-non-printable-characters" class="table-of-contents__link toc-highlight">4. Detection of non-printable characters</a></li></ul></li><li><a href="#recommendations-for-using-the-migration-utility" class="table-of-contents__link toc-highlight">Recommendations for using the migration utility</a></li><li><a href="#migrating-from-ibm-engineering-workflow-management-to-git" class="table-of-contents__link toc-highlight">Migrating from IBM Engineering Workflow Management to GIT</a></li><li><a href="#resources" class="table-of-contents__link toc-highlight">Resources</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/IBM/z-devops-acceleration-program" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2023 IBM Corporation</div></div></div></footer></div>
<script src="/z-devops-acceleration-program/assets/js/runtime~main.1579192a.js"></script>
<script src="/z-devops-acceleration-program/assets/js/main.a28e869f.js"></script>
</body>
</html>