<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-branching-model-supporting-pipeline">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.1">
<title data-rh="true">Supporting pipeline design and implementation | IBM Z DevOps Acceleration Program</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://ibm.github.io/z-devops-acceleration-program/docs/branching-model-supporting-pipeline"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Supporting pipeline design and implementation | IBM Z DevOps Acceleration Program"><meta data-rh="true" name="description" content="This page details the technical implementation of the different continuous integration/continuous delivery (CI/CD) pipeline types used in the Git branching model for mainframe development. If a branching model workflow demands a specific configuration, it will be covered within the same section."><meta data-rh="true" property="og:description" content="This page details the technical implementation of the different continuous integration/continuous delivery (CI/CD) pipeline types used in the Git branching model for mainframe development. If a branching model workflow demands a specific configuration, it will be covered within the same section."><link data-rh="true" rel="icon" href="/z-devops-acceleration-program/img/bee2.svg"><link data-rh="true" rel="canonical" href="https://ibm.github.io/z-devops-acceleration-program/docs/branching-model-supporting-pipeline"><link data-rh="true" rel="alternate" href="https://ibm.github.io/z-devops-acceleration-program/docs/branching-model-supporting-pipeline" hreflang="en"><link data-rh="true" rel="alternate" href="https://ibm.github.io/z-devops-acceleration-program/docs/branching-model-supporting-pipeline" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://ZU7UKDYY5U-dsn.algolia.net" crossorigin="anonymous"><link rel="search" type="application/opensearchdescription+xml" title="IBM Z DevOps Acceleration Program" href="/z-devops-acceleration-program/opensearch.xml"><link rel="stylesheet" href="/z-devops-acceleration-program/assets/css/styles.66f1c62c.css">
<link rel="preload" href="/z-devops-acceleration-program/assets/js/runtime~main.1579192a.js" as="script">
<link rel="preload" href="/z-devops-acceleration-program/assets/js/main.a28e869f.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}return t}()||function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/z-devops-acceleration-program/"><b class="navbar__title text--truncate">IBM Z DevOps Acceleration Program</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/z-devops-acceleration-program/docs/ibm-z-devops-solution">Docs</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/IBM/z-devops-acceleration-program" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebarViewport_Xe31"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/z-devops-acceleration-program/docs/ibm-z-devops-solution">Overview</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/z-devops-acceleration-program/docs/journey-to-cicd">Getting started</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/z-devops-acceleration-program/docs/tutorial">Tutorials</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="/z-devops-acceleration-program/docs/repository-layouts">Designing the CI/CD pipeline</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/z-devops-acceleration-program/docs/repository-layouts">Planning repository layouts</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/z-devops-acceleration-program/docs/dependency-management">Defining dependency management</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" tabindex="0" href="/z-devops-acceleration-program/docs/branching-models">Git branching for mainframe development</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/z-devops-acceleration-program/docs/branching-models">Introduction to branching models</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/z-devops-acceleration-program/docs/git-branching-model-for-mainframe-dev">Git branching model for mainframe development</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/z-devops-acceleration-program/docs/branching-model-supporting-pipeline">Supporting pipeline design and implementation</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/z-devops-acceleration-program/docs/branching-appendix">Appendix</a></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/z-devops-acceleration-program/docs/build-strategy">Designing the build strategy</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/z-devops-acceleration-program/docs/pipeline-strategy">Architecting the pipeline strategy</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/z-devops-acceleration-program/docs/deployment-strategy">Outlining the deployment strategy</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/z-devops-acceleration-program/docs/intro-migrating-data">Migrating data from z/OS to Git</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/z-devops-acceleration-program/docs/implementing-pipeline-actions">Implementing CI/CD</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a href="https://www.ibm.com/docs/en/dbb" target="_blank" rel="noopener noreferrer" class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false">Resources</a></div></li></ul></nav></div></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/z-devops-acceleration-program/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Designing the CI/CD pipeline</span><meta itemprop="position" content="1"></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Git branching for mainframe development</span><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Supporting pipeline design and implementation</span><meta itemprop="position" content="3"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Pipeline design and implementation supporting the branching model</h1><p>This page details the technical implementation of the different continuous integration/continuous delivery (CI/CD) pipeline types used in the <a href="/z-devops-acceleration-program/docs/git-branching-model-for-mainframe-dev">Git branching model for mainframe development</a>. If a branching model workflow demands a specific configuration, it will be covered within the same section.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="configurations-to-support-working-with-feature-branches">Configurations to support working with feature branches<a href="#configurations-to-support-working-with-feature-branches" class="hash-link" aria-label="Direct link to Configurations to support working with feature branches" title="Direct link to Configurations to support working with feature branches">​</a></h2><p><img loading="lazy" alt="Branching diagram of a feature branch" src="/z-devops-acceleration-program/assets/images/image16-fd4902b75bf06f28d5bebd7a6aa15ddd.png" width="183" height="248" class="img_ev3q">  </p><p>When developers start working on a new task, they will first create a feature branch. Feature branches are created off the latest code state of the source configuration, whether that is the <code>main</code> branch or an epic or release maintenance branch.</p><p>If the feature branch was created on the central Git repository, the developers can use the integrated development environment (IDE), a terminal, or another Git interface on their local workstation to clone or pull the new feature branch from the central Git repository. They then switch to the feature branch to implement their changes.</p><p>IDEs supported by IBM allow developers to perform a Dependency Based Build (DBB) User Build to quickly gather feedback on the implemented changes. This feature is expected to be used before the changes are committed and pushed to the central Git server, where a pipeline can process changes automatically. Developers regularly commit and push their changes to their feature branch on the central Git provider.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="user-build-setup">User Build setup<a href="#user-build-setup" class="hash-link" aria-label="Direct link to User Build setup" title="Direct link to User Build setup">​</a></h3><p>User Build is a capability provided by IBM-supported IDEs that uploads the modified source code and its dependencies from the local, checked-out Git working tree on the developer&#x27;s workstation to a personal directory on z/OS UNIX System Services, and then invokes the build framework to execute the compile and link-edit steps. This capability is available in the following IDEs:</p><ul><li><p><a href="https://www.ibm.com/docs/en/developer-for-zos" target="_blank" rel="noopener noreferrer">IBM Developer for z/OS</a></p></li><li><p><a href="https://www.ibm.com/docs/en/cloud-paks/z-modernization-stack/2022.2?topic=ide-option-2-developing-vs-code" target="_blank" rel="noopener noreferrer">Microsoft Visual Studio Code (VS Code) with the IBM Z Open Editor extension</a></p></li><li><p><a href="https://www.ibm.com/docs/en/cloud-paks/z-modernization-stack/2022.2?topic=ide-option-1-developing-codeready-workspaces" target="_blank" rel="noopener noreferrer">IBM Wazi for Dev Spaces</a></p></li></ul><p>The developer configures the User Build process to point to the central build framework implementation, such as <a href="https://github.com/IBM/dbb-zappbuild" target="_blank" rel="noopener noreferrer">zAppBuild</a>, provided by the Mainframe DevOps Team. The build option <a href="https://github.com/IBM/dbb-zappbuild/blob/3.2.0/docs/BUILD.md#build-a-single-program" target="_blank" rel="noopener noreferrer"><code>--userBuild</code></a> is passed to the build framework along with the reference to the file the developer would like to build.</p><p>Because the operation is performed with the credentials of the currently logged-in user, it is recommended for each developer to reuse the high-level qualifier (<code>--hlq</code>) of their personal datasets. It is the developer&#x27;s responsibility to regularly clean up the mainframe datasets and sandbox directories on z/OS UNIX System Services that are used for User Build. Automated cleanup of the files can be established based on a defined naming convention for datasets or with a specific storage management policy.</p><p>User Build is a convenient way to compile and link-edit source code without committing the changes into the Git version control system. Therefore, build outputs of user builds are not assumed to be installed into a runtime environment. To be able to perform simple and rudimentary tests on User Build-generated outputs, the developer should modify the test JCLs to point to the personal libraries used in user builds.</p><p>Alternatively, the setup of a pre-concatenated runtime library can be implemented to perform more tests in the context of a (shared) test runtime environment. A dedicated pre-concatenated library in the runtime system (for example, batch, IMS and CICS) into which the developers can write allows a separation of the modules produced by user builds, and enables regular cleanup of these intermediate versions that are not yet registered in the central Git provider or as a build output in the artifact repository.</p><p>External dependencies to other components, such as include files (for example, copybooks or object decks) that are not managed within the application repository but are required for building the application, can either be pulled in via a <a href="https://github.com/IBM/dbb-zappbuild/blob/3.2.0/samples/application-conf/Cobol.properties#L83-L89" target="_blank" rel="noopener noreferrer">dataset concatenation</a> or by the usage of Git submodules, depending on the repository organization.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="pipeline-build-of-feature-branches">Pipeline build of feature branches<a href="#pipeline-build-of-feature-branches" class="hash-link" aria-label="Direct link to Pipeline build of feature branches" title="Direct link to Pipeline build of feature branches">​</a></h3><p>It is a common practice to use a feature branch pipeline that builds the codebase of a feature branch and runs automated code inspections using the <a href="https://github.com/IBM/dbb/tree/v2.0.0/Pipeline/RunIDZCodeReview" target="_blank" rel="noopener noreferrer">IDz Code Review feature</a> and/or updates the static code analysis repository such as in <a href="https://www.ibm.com/docs/en/addi/6.1.2?topic=wazi-analyze-user-guide" target="_blank" rel="noopener noreferrer">IBM Wazi Analyze</a>.</p><p>This pipeline expands the scope of the build past that of the user build and makes sure all changed and impacted programs are included in the list of artifacts to be produced by leveraging the <code>--impactBuild</code> option of zAppBuild. The developer must make sure to have pushed the feature branch with all their committed changes from their local clone of the repository to the central Git provider so that those changes are available to the feature branch pipeline process.</p><p>The pipeline configuration requires processing logic to compute a dedicated high-level qualifier to guarantee that build datasets are exclusively used for the provided branch. The computed value is passed into the build command via the <code>--hlq</code> parameter. zAppBuild allocates the datasets automatically.</p><p>The following screen capture shows the stages included a sample pipeline build for a feature branch.</p><p><img loading="lazy" alt="Screen capture of pipeline steps for the feature branch" src="/z-devops-acceleration-program/assets/images/image17-11b42390ca62c6f9dbf734f1ad62d1a7.png" width="490" height="199" class="img_ev3q"></p><p>The build leverages the dependency metadata managed by IBM Dependency Based Build via DBB collections, which are consumed by the build framework, zAppBuild. At the first execution of the build process for feature branches, zAppBuild will duplicate this metadata by cloning the related collections for efficiency purposes<sup id="fnref-1"><a href="#fn-1" class="footnote-ref">1</a></sup>. This cloning phase ensures the accuracy of the dependency information for this pipeline build. To be able to clone the collection, zAppBuild needs to understand which collection contains the most accurate information and should be duplicated. As collection names are derived from the name of the branch, it is easy to identify which collection should be cloned. In the zAppBuild configuration, the originating collection reference is defined via the <code>mainBuildBranch</code><sup id="fnref-1"><a href="#fn-1" class="footnote-ref">1</a></sup> property.</p><p>Depending on the <a href="/z-devops-acceleration-program/docs/git-branching-model-for-mainframe-dev#workflows-in-this-branching-model">branching model workflow</a> being used, the <code>mainBuildBranch</code> property might need to be overridden for the feature branch pipeline:</p><ul><li><p>In the <a href="/z-devops-acceleration-program/docs/git-branching-model-for-mainframe-dev#deliver-changes-with-the-next-planned-release">default development process</a> working towards the next planned release based on the head of the <code>main</code> branch, the default configuration for the <code>mainBuildBranch</code> is accurate and does not need to be overridden.</p></li><li><p>When <a href="/z-devops-acceleration-program/docs/git-branching-model-for-mainframe-dev#implement-a-fix-for-the-current-production-state">implementing a fix in context of a release maintenance branch</a>, the <code>mainBuildBranch</code> must be set to the name of the release maintenance branch to correctly clone the dependency information.</p></li><li><p>When <a href="/z-devops-acceleration-program/docs/git-branching-model-for-mainframe-dev#use-an-epic-branch-for-a-significant-development-initiative">implementing changes on a feature branch in an epic branch context</a>, the <code>mainBuildBranch</code> property must be set to the name of the epic branch.</p></li></ul><p>Instead of manipulating the property file that defines the <code>mainBuildBranch</code> setting and is part of the repository, the pipeline automation can compute the correct setting and pass the overriding property via the <a href="https://github.com/IBM/dbb-zappbuild/blob/3.3.0/docs/BUILD.md#dynamically-overwrite-build-properties" target="_blank" rel="noopener noreferrer">override command-line option</a> of zAppBuild.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="package-and-deploy-a-feature-for-testing-in-controlled-test-environments">Package and Deploy a feature for testing in controlled test environments<a href="#package-and-deploy-a-feature-for-testing-in-controlled-test-environments" class="hash-link" aria-label="Direct link to Package and Deploy a feature for testing in controlled test environments" title="Direct link to Package and Deploy a feature for testing in controlled test environments">​</a></h3><p>Today&#x27;s mainframe development workflows can allow developers to install their changes into controlled test environments before these changes get assigned into a release, for instance when the developer would like to prototype/pilot a new feature. On lower environments, there might be multiple CICS regions that developers can use, which provide a level of isolation from other ongoing development work. The pipeline process can be extended to provide a similar functionality as an optional step for the developer.</p><p>This strategy is supported by feature branch packaging and deployment of a preliminary package. It is implemented as a dedicated pipeline that developers request on demand for their feature branch. The pipeline performs the following actions:</p><ol><li>Build all the changes of the feature branch that were implemented, including their impacts as outlined in <a href="#basic-build-pipeline-build-and-test-stage">Basic Build Pipeline: Build and Test stage</a>, using the commit point at which the feature branch was branched off as the baseline reference for calculating the changes.</li><li>Package the generated build outputs as outlined in <a href="#release-pipeline-packaging-stage">Release Pipeline: Packaging stage</a>.</li></ol><p>The deployment process must ensure that these preliminary packages cannot be deployed into any production environment.</p><p><img loading="lazy" alt="Diagram showing optional feature branch packaging and deployment of a preliminary package" src="/z-devops-acceleration-program/assets/images/image18-96f1cedec1c3c863698aa31a22cebc53.png" width="674" height="270" class="img_ev3q"></p><p>Often, these controlled development test environments are used as shared test environments for multiple application teams. To use the same runtime environment, such as a CICS region, for both prototyping and for testing integrated changes, we recommend separating the preliminary (feature) packages from the planned release packages by separating these types into different libraries. The package for the prototyping workflow is deployed via its dedicated deployment environment model, illustrated in the above diagram as DEV-1-FEATURE-TEST.</p><p>Because preliminary packages are intended to be short-lived and temporary, they can be deployed to a library via the deployment automation process to a pre-concatenated library. Housekeeping strategies must be established to ensure that either automation routines or developers are cleaning up the preliminary packages when the testing is done.</p><p>This strategy should be designed with the infrastructure engineering team to prepare the test environments to support this workflow.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="housekeeping-recommendations">Housekeeping recommendations<a href="#housekeeping-recommendations" class="hash-link" aria-label="Direct link to Housekeeping recommendations" title="Direct link to Housekeeping recommendations">​</a></h3><p>A housekeeping strategy should be implemented when the feature branch is no longer needed and therefore removed from the central Git provider. Successful merging adds commits from one branch to the head of another. Once complete, the branch the commits were merged from can be safely deleted. (Keeping old branches can cause confusion and does not contribute to the traceability of the history.) This housekeeping strategy should include the cleanup of the DBB collections, the build workspace on z/OS UNIX System Services, and the build datasets.</p><p>Specific scripts can be integrated into the pipeline to delete <a href="https://www.ibm.com/docs/en/dbb/2.0?topic=interface-collection-commands#collection-delete" target="_blank" rel="noopener noreferrer">collections</a> and <a href="https://www.ibm.com/docs/en/dbb/2.0?topic=interface-build-group-commands#build-group-delete" target="_blank" rel="noopener noreferrer">build groups</a>, or <a href="https://github.com/IBM/dbb/tree/main/Utilities/DeletePDS" target="_blank" rel="noopener noreferrer">remove unnecessary build datasets</a>. When leveraging GitLab CI/CD as the pipeline orchestrator, the use of GitLab environments helps to automate these steps when a branch is deleted. An implementation sample is provided via the published technical document <a href="https://www.ibm.com/support/pages/integrating-ibm-zos-platform-cicd-pipelines-gitlab" target="_blank" rel="noopener noreferrer">Integrating IBM z/OS Platform in CI/CD Pipelines with Gitlab</a>. Generally, webhooks and other extensions of the pipeline orchestrator can be leveraged to perform these cleanup activities when a branch is deleted.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="the-basic-build-pipeline-for-main-epic-and-release-branches">The Basic Build Pipeline for main, epic, and release branches<a href="#the-basic-build-pipeline-for-main-epic-and-release-branches" class="hash-link" aria-label="Direct link to The Basic Build Pipeline for main, epic, and release branches" title="Direct link to The Basic Build Pipeline for main, epic, and release branches">​</a></h2><p><img loading="lazy" alt="Branching diagram with build pipeline on the main branch" src="/z-devops-acceleration-program/assets/images/image6-85bba4e51ba9c22248c9e2dfbe19f608.png" width="674" height="141" class="img_ev3q"></p><p>It is common practice to build every time the head of the <code>main</code>, epic, or release branch is modified.</p><p>When a feature branch is merged into a shared integration branch, a new pipeline is kicked off to build the merged changes in the context of the configuration of the integration branch.</p><p>Additional steps such as automated code reviews or updates of application discovery repositories can be included in the pipeline process, as shown in the sample pipeline setup in the following screen capture.</p><p><img loading="lazy" alt="Screen capture of a build pipeline for the main branch" src="/z-devops-acceleration-program/assets/images/image17-11b42390ca62c6f9dbf734f1ad62d1a7.png" width="490" height="199" class="img_ev3q"></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="basic-build-pipeline-build-and-test-stage">Basic Build Pipeline: Build and Test stage<a href="#basic-build-pipeline-build-and-test-stage" class="hash-link" aria-label="Direct link to Basic Build Pipeline: Build and Test stage" title="Direct link to Basic Build Pipeline: Build and Test stage">​</a></h3><p>The purpose of the Build and Test stage of the pipeline for an integration branch is to ensure that the branch can be built and then tested together. It might happen that some features have indirect dependencies on other features planned for the same deliverable. This early point of integration along with the <a href="https://github.com/IBM/dbb-zappbuild/blob/3.2.0/docs/BUILD.md#perform-impact-build" target="_blank" rel="noopener noreferrer">impact build capability</a> of the zAppBuild build framework ensures consistency and transparency for the upcoming deliverable.</p><p>Conceptually speaking, the build step of a CI/CD pipeline decouples building from deploying. This is important to ensure that only outputs from successful builds are installed into the test environment, rather than directing the build framework to update the libraries of the test environment directly.</p><p>The Build and Test stage of the pipeline for the integration branch builds all the incorporated changes that have so far been merged for the deliverable. To identify the list of changes contributing to the next planned release, the release maintenance, or the epic, the build step of the pipeline leverages the <code>--baselineRef</code> option of zAppBuild for incremental builds, which is used to specify a baseline hash or point in the commit history for calculating the list of changes. Using this approach of incremental builds avoids unnecessarily building parts of the application that are unaffected by any of the changes in the commits to the base branch since the last release.</p><p>Additionally, the pipeline configuration requires a dedicated high-level qualifier to guarantee that build data sets are exclusively used for the provided branch. The value is passed to the zAppBuild command via the <code>--hlq</code> parameter.</p><p>The option <code>--baselineRef</code> is a sub-parameter of the <code>--impactBuild</code> option in zAppBuild, and sets the base Git hash upon which the <code>git diff</code> command calculates changes for the repository<sup id="fnref-2"><a href="#fn-2" class="footnote-ref">2</a></sup>.</p><p>In the <a href="/z-devops-acceleration-program/docs/git-branching-model-for-mainframe-dev#deliver-changes-with-the-next-planned-release">default workflow</a> with <code>main</code> as the base branch, the baseline reference is defined by the commit hash (or the Git tag) of the previous release (that is, the release currently in production). In the following diagram, the blue dotted line shows the changes calculated from the baseline to the point at which the <code>feature_2</code> branch is merged in.</p><p><img loading="lazy" alt="Diagram showing the calculation of changes for the next planned release" src="/z-devops-acceleration-program/assets/images/basicBuildPipeline-computeChanges-default-workflow-3e7428b28040328f01a8101016081724.png" width="502" height="260" class="img_ev3q"></p><p>For the <a href="/z-devops-acceleration-program/docs/git-branching-model-for-mainframe-dev#implement-a-fix-for-the-current-production-state">hotfix workflow</a>, the hotfixes are planned to be implemented from a release maintenance branch whose baseline reference is the commit (or Git tag) that represents the state of the repository for the release. This is also the commit from which the respective release maintenance branch was created, as depicted in the below diagram.</p><p><img loading="lazy" alt="Diagram showing the calculation of changes in a release fix workflow" src="/z-devops-acceleration-program/assets/images/basicBuildPipeline-computeChanges-fix-workflow-4d57aad14a9951ba43c7580cc1fa38c7.png" width="501" height="423" class="img_ev3q"></p><p>For the <a href="/z-devops-acceleration-program/docs/git-branching-model-for-mainframe-dev#characteristics-of-mainline-based-development-with-feature-branches">epic branch workflow</a>, the baseline reference for the build pipeline is the commit (or Release tag) from which the epic branch was created, also referred to as the fork point.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="basic-build-pipeline-install-outputs-to-a-development-and-test-environment">Basic Build Pipeline: Install outputs to a development and test environment<a href="#basic-build-pipeline-install-outputs-to-a-development-and-test-environment" class="hash-link" aria-label="Direct link to Basic Build Pipeline: Install outputs to a development and test environment" title="Direct link to Basic Build Pipeline: Install outputs to a development and test environment">​</a></h3><p>In this phase of the development lifecycle for the <a href="/z-devops-acceleration-program/docs/git-branching-model-for-mainframe-dev#deliver-changes-with-the-next-planned-release">default workflow</a> implementing and delivering changes for the next planned release, the build typically operates with the compile options to enable <a href="https://github.com/IBM/dbb-zappbuild/blob/3.3.0/docs/BUILD.md#common-pipeline-invocation-examples" target="_blank" rel="noopener noreferrer">testing and debugging</a> of programs. As most organizations restrict the deployment to the production environments with optimized code only, these build artifacts can be seen as temporary and only for initial testing and debugging purposes.</p><p><img loading="lazy" alt="Branching diagram with build pipeline on the main branch producing a preliminary package for the development and test environment" src="/z-devops-acceleration-program/assets/images/defaultWorkflow_buildPipelineAfterMerge-f4b4c0cafc3bfa64c830ec4237f18536.png" width="678" height="247" class="img_ev3q"><br>
<!-- -->There are two options to deploy the generated artifacts to the shared development test system - represented by the blue DEV-TEST shape in the above figure.</p><p>(Recommended) Option A: Extend the pipeline with a packaging stage and a deployment stage to create a preliminary package similar to <a href="#release-pipeline-packaging-stage">Release Pipeline: Packaging stage</a>. It is traditionally the responsibility of the deployment solution to install the preliminary package into different environments. Doing so in this phase of the workflow will give the necessary traceability to understand which versions are installed in the development and test environment.</p><p>Option B: Use a post-build script to copy the output artifacts from the build libraries to the associated target runtime libraries and manually run the necessary activation steps such as a Db2 bind process or an online refresh. However, even given the temporary nature of the outputs created by this build, this circumvents the formal packaging and deployment process. The major drawback of this approach is a lack of traceability and understanding of what runs on the development and test environment.</p><p>This step of the build pipeline is also applicable for pipelines for the epic or the release maintenance branches.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="basic-build-pipeline-analyze-stage">Basic Build Pipeline: Analyze stage<a href="#basic-build-pipeline-analyze-stage" class="hash-link" aria-label="Direct link to Basic Build Pipeline: Analyze stage" title="Direct link to Basic Build Pipeline: Analyze stage">​</a></h3><p>An optional Analyze stage after building the most current state of the <code>main</code> branch can include steps to perform automated code inspections using the <a href="https://github.com/IBM/dbb/tree/v2.0.0/Pipeline/RunIDZCodeReview" target="_blank" rel="noopener noreferrer">IDz Code Review feature</a> and/or to update the static code analysis repository such as in <a href="https://www.ibm.com/docs/en/addi/6.1.2?topic=wazi-analyze-user-guide" target="_blank" rel="noopener noreferrer">IBM Wazi Analyze</a>.</p><p>Submitting a Sonarqube scan at this point of the workflow can also help the development team to keep an eye on the maintainability and serviceability of the application.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="the-release-pipeline-with-build-packaging-and-deploy-stages">The Release Pipeline with Build, Packaging, and Deploy stages<a href="#the-release-pipeline-with-build-packaging-and-deploy-stages" class="hash-link" aria-label="Direct link to The Release Pipeline with Build, Packaging, and Deploy stages" title="Direct link to The Release Pipeline with Build, Packaging, and Deploy stages">​</a></h2><p><img loading="lazy" alt="Diagram showing the Release Pipeline building a release candidate package for deployment in test environments" src="/z-devops-acceleration-program/assets/images/defaultWorkflow_releasePipeline_RC1_cropped-956bbdd96aff88d24b9ab00b07406558.png" width="278" height="267" class="img_ev3q">  </p><p>The Release Pipeline is leveraged by the development team when they want to create a release candidate package that can be deployed to controlled test environments. The development team manually requests the pipeline to run. The pipeline is not expected to be used for every merge into the <code>main</code> branch.</p><p>The Release Pipeline differs from the previously-discussed pipelines and includes additional steps: after the stages of building and code scans have successfully completed, the pipeline packages all the incorporated changes of all merged features for this deliverable to create a package.</p><p>The package can be an intermediate release candidate version that can already be tested in the managed test environments, as outlined in the <a href="/z-devops-acceleration-program/docs/git-branching-model-for-mainframe-dev#workflows-in-this-branching-model">high-level workflows</a>. When the development team has implemented all the tasks planned for the iteration, this same pipeline is used to produce the package that will be deployed to production.</p><p>The following diagram outlines the steps of a GitLab pipeline for the Build, Packaging, and Deploy stages.</p><p>The Deploy stage can only be present in the pipeline for the default workflow (with <code>main</code>) when delivering changes with the next planned release, because the pipeline is unaware of the assigned environments for the epic and release maintenance workflows.</p><p><img loading="lazy" alt="Build, package and deploy pipeline" src="/z-devops-acceleration-program/assets/images/image22-6ddd4491d678670898d6762a9b5d96b2.png" width="2548" height="338" class="img_ev3q"></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="release-pipeline-build-stage">Release Pipeline: Build stage<a href="#release-pipeline-build-stage" class="hash-link" aria-label="Direct link to Release Pipeline: Build stage" title="Direct link to Release Pipeline: Build stage">​</a></h3><p>Similar to the build pipeline outlined in <a href="#basic-build-pipeline-build-and-test-stage">Basic Build Pipeline: Build and Test stage</a>, the Build stage of the Release Pipeline builds all the incorporated changes of all merged features. To identify the list of changes contributing to the deliverable, the Build stage of the pipeline leverages the <code>--baselineRef</code> option of zAppBuild to detect all contributed changes based on rules outlined in <a href="#basic-build-pipeline-build-and-test-stage">Basic Build Pipeline: Build and Test stage</a>.</p><p>For the <code>main</code> and the release maintenance workflows, this build performs the compilation with the compiler options to produce executables optimized for performance. The pipeline must leverage its dedicated set of PDS libraries to not interfere with the <a href="#the-basic-build-pipeline-for-main-epic-and-release-branches">Basic Build Pipeline</a>.</p><p>For the epic branch workflow, the build can occur with test options, as the package is only deployed into the initiative&#x27;s test environment and will be rebuilt when the epic branch is integrated into the <code>main</code> branch.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="release-pipeline-packaging-stage">Release Pipeline: Packaging stage<a href="#release-pipeline-packaging-stage" class="hash-link" aria-label="Direct link to Release Pipeline: Packaging stage" title="Direct link to Release Pipeline: Packaging stage">​</a></h3><p>The Packaging stage runs after the Build and Test stage, and creates a package of the generated build outputs (for example, load modules, DBRMs, and JCLs). This package includes the build outputs of all the contributed changes (including the files impacted by the changes) for the deliverable. It represents a release candidate that can be deployed into the various test environments along the existing staging hierarchy. As outlined in the high-level workflows, this can even happen when only a subset of the features for the deliverable is implemented.</p><p>The name or associated metadata of the package allows the development team to relate the package to the development workflow. Based on naming conventions of the package, different rules need to apply to its lifecycle. Some examples of this are shown below:</p><ul><li><p>Use <code>rel-2.1.0_RC01</code> for a release candidate package for the next planned release.</p><p>  The package name represents the name of the next planned release. This package can make it to production, as it contains build outputs produced with options for optimization.</p></li><li><p>Use <code>rel-2.0.1-patch_RC01</code> for an urgent fix package of the current production version.</p><p>  This package is allowed to bypass any concurrent development activities and can take shortcuts in the route to production. For example, if it can only be tested on the QA-TEST environment, the developers can bypass lower test environments based on an &quot;emergency&quot; flag of the deployment package.</p></li><li><p>Use <code>epic1-prelim_pkg01</code> for a preliminary package of a long-running epic branch workflow.</p><p>  This package can only be deployed to the assigned test environments available to the initiative, and cannot be deployed to production.</p></li></ul><p>The Packaging stage not only creates the binaries package, but it also carries information about the source code, such as the Git commit and additional links (including references to the pipeline job), which are helpful for understanding the context of the creation of the package.</p><p>The <a href="https://github.com/IBM/dbb" target="_blank" rel="noopener noreferrer">DBB community repository</a> contains two sample scripts that implement the Packaging stage. If IBM UrbanCode Deploy (UCD) is used as the deployment solution, the <a href="https://github.com/IBM/dbb/tree/main/Pipeline/CreateUCDComponentVersion" target="_blank" rel="noopener noreferrer"><code>CreateUCDComponentVersion</code></a> script can be leveraged to create an IBM UrbanCode Deploy component version. Alternatively, if a scripted deployment is being set up, the <a href="https://github.com/IBM/dbb/tree/main/Pipeline/PackageBuildOutputs" target="_blank" rel="noopener noreferrer"><code>PackageBuildOutputs</code></a> script can be used instead to store artifacts in an enterprise binary artifact repository leveraged by <a href="https://www.ibm.com/docs/en/developer-for-zos/16.0?topic=deploy-wazi-workflow" target="_blank" rel="noopener noreferrer">IBM Wazi Deploy</a>.</p><p>Both sample scripts leverage data from the DBB build report to extract and retain the metadata, allowing traceability between the build and deployment activities as outlined above.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="release-pipeline-deploy-stage">Release Pipeline: Deploy stage<a href="#release-pipeline-deploy-stage" class="hash-link" aria-label="Direct link to Release Pipeline: Deploy stage" title="Direct link to Release Pipeline: Deploy stage">​</a></h3><p>The deployment process of a release package for the <a href="/z-devops-acceleration-program/docs/git-branching-model-for-mainframe-dev#deliver-changes-with-the-next-planned-release">default workflow with <code>main</code></a> can either be triggered from the CI/CD pipeline or driven through the user interface of the deployment manager. The implementation can vary based on the capabilities offered by the CI/CD orchestrator and the deployment solution. Deployment manager options for z/OS include IBM UrbanCode Deploy (UCD) and IBM Wazi Deploy.</p><p>IBM UrbanCode Deploy provides a rich web-based interface, powerful REST APIs, and a command-line interface. Typically, the pipeline execution requests the deployment of the application package into the defined test environments automatically, after successful completion of the preceding Build and Packaging stages. These requests are performed through the REST APIs provided by UCD. However, if the application team prefers to set up manual triggers for the deployments to the specific environments, this can be performed through UCD&#x27;s web interface. In that scenario, the pipeline is primarily used for continuous integration and packaging.</p><p>The <a href="https://github.com/IBM/dbb" target="_blank" rel="noopener noreferrer">DBB community repository</a> provides a sample <a href="https://github.com/IBM/dbb/tree/main/Pipeline/DeployUCDComponentVersion" target="_blank" rel="noopener noreferrer"><code>DeployUCDComponentVersion</code></a> script that can be included in a pipeline process to request a UCD application deployment leveraging UCD&#x27;s REST APIs.</p><p>IBM Wazi Deploy is a deployment manager for z/OS artifacts and comes with a command-line interface that can be easily invoked from a pipeline orchestrator and does not require a wrapper script. After retrieving the package to deploy from the artifact repository, the <code>wazideploy-generate</code> step generates the deployment instructions (also known as the deployment plan) for the artifacts of the package. This plan is then passed to the <code>wazideploy-deploy</code> step, which installs the contents of the package into the specified runtime environment<sup id="fnref-3"><a href="#fn-3" class="footnote-ref">3</a></sup>.</p><p>The following screen capture shows the Deploy stage of a sample Release Pipeline.</p><p><img loading="lazy" alt="Screen capture of the Deploy stage of the Release Pipeline" src="/z-devops-acceleration-program/assets/images/image23-6d1f02aeb08399a49df2d5a2457c883c.png" width="359" height="263" class="img_ev3q"></p><p>Implementation details of the Deploy stage can vary based on the pipeline orchestrator being used. In a GitLab CI/CD implementation, a pipeline can stay on hold and wait for user input. This allows the pipeline to automatically trigger the deployment of the application package into the first configured environment, and lets the application team decide when to deploy to the next environment through a manual step (for instance, deployment to the Acceptance environment).</p><p>With Jenkins as the CI/CD orchestrator, it is not common to keep a pipeline in progress over a long time. In this case, the pipeline engineering team might consider the approach of requesting the deployments through the user interface of the deployment manager, or alternatively, they can design and set up a deployment pipeline in Jenkins that can combine the deployment with any automated tests or other automation tasks.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="deployment-to-production">Deployment to production<a href="#deployment-to-production" class="hash-link" aria-label="Direct link to Deployment to production" title="Direct link to Deployment to production">​</a></h2><p>When the release candidate package has passed all quality gates and received all the necessary approvals, it is ready to be deployed to the production environment.</p><p>The release manager takes care of this step of the lifecycle and will leverage the user interface of the deployment manager, such as UCD&#x27;s browser-based interface. In the case of a deployment manager solution with a command-line interface such as Wazi Deploy, the user interface of the pipeline orchestrator is used by the release manager to drive the deployment to production. A deployment pipeline definition needs to be configured to roll out the package.</p><p>Deploying to production consists of two tasks:</p><ol><li><p>Invoke the deployment to the production runtime environment through either the deployment manager interface or a deployment pipeline definition.</p></li><li><p>Tag the commit in the Git server by assigning a Git tag to the commit that was used to build the release package.</p></li></ol><p>Most Git providers allow for the creation of a release to provide a summary of the changes, as well as additional documentation. <a href="https://docs.gitlab.com/ee/api/releases/" target="_blank" rel="noopener noreferrer">GitLab</a> and <a href="https://docs.github.com/en/rest/releases/releases" target="_blank" rel="noopener noreferrer">GitHub</a> offer REST APIs to create a new tag/release. This action should be automated as part of the deployment to production.</p><p>As an example of using Git tags, <a href="https://github.com/IBM/dbb-zappbuild/releases/tag/3.2.0" target="_blank" rel="noopener noreferrer">zAppBuild</a> also declares releases to identify stable versions.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="conclusion">Conclusion<a href="#conclusion" class="hash-link" aria-label="Direct link to Conclusion" title="Direct link to Conclusion">​</a></h2><p>This page provides guidance for implementing a <a href="/z-devops-acceleration-program/docs/git-branching-model-for-mainframe-dev">Git branching model for mainframe development</a> with IBM Dependency Based Build and zAppBuild.</p><p>The CI/CD pipeline configurations that were outlined at various stages can be adjusted depending on the application team&#x27;s existing and desired development processes and philosophy. Factors that might impact the design of the pipelines and workflow include test strategies, the number of test environments, and potential testing limitations.</p><p>When designing a CI/CD pipeline, assessment of current and future requirements in the software delivery lifecycle is key. As CI/CD technologies continue to evolve and automated testing using provisioned test environments becomes more common in mainframe application development teams, the outlined branching strategy can also evolve to maximize the benefits from these advances.</p><div class="footnotes"><hr><ol><li id="fn-1">zAppBuild documentation: <a href="https://github.com/IBM/dbb-zappbuild/blob/3.2.0/docs/BUILD.md#perform-impact-build-for-topic-branches" target="_blank" rel="noopener noreferrer">https://github.com/IBM/dbb-zappbuild/blob/3.2.0/docs/BUILD.md#perform-impact-build-for-topic-branches</a><a href="#fnref-1" class="footnote-backref">↩</a></li><li id="fn-2">zAppBuild implementation to set <code>baselineRef</code>: <a href="https://github.com/IBM/dbb-zappbuild/blob/3.2.0/docs/BUILD.md#perform-impact-build-by-providing-baseline-reference-for-the-analysis-of-changed-files" target="_blank" rel="noopener noreferrer">https://github.com/IBM/dbb-zappbuild/blob/3.2.0/docs/BUILD.md#perform-impact-build-by-providing-baseline-reference-for-the-analysis-of-changed-files</a><a href="#fnref-2" class="footnote-backref">↩</a></li><li id="fn-3">IBM Wazi Deploy static deployment workflow: <a href="https://www.ibm.com/docs/en/developer-for-zos/16.0?topic=deploy-getting-started-static-deployment" target="_blank" rel="noopener noreferrer">https://www.ibm.com/docs/en/developer-for-zos/16.0?topic=deploy-getting-started-static-deployment</a><a href="#fnref-3" class="footnote-backref">↩</a></li></ol></div></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/z-devops-acceleration-program/docs/git-branching-model-for-mainframe-dev"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Git branching model for mainframe development</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/z-devops-acceleration-program/docs/branching-appendix"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Appendix</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><p style="margin:-2px auto -10px 17px">On this page</p><ul class="table-of-contents table-of-contents__left-border"><li><a href="#configurations-to-support-working-with-feature-branches" class="table-of-contents__link toc-highlight">Configurations to support working with feature branches</a><ul><li><a href="#user-build-setup" class="table-of-contents__link toc-highlight">User Build setup</a></li><li><a href="#pipeline-build-of-feature-branches" class="table-of-contents__link toc-highlight">Pipeline build of feature branches</a></li><li><a href="#package-and-deploy-a-feature-for-testing-in-controlled-test-environments" class="table-of-contents__link toc-highlight">Package and Deploy a feature for testing in controlled test environments</a></li><li><a href="#housekeeping-recommendations" class="table-of-contents__link toc-highlight">Housekeeping recommendations</a></li></ul></li><li><a href="#the-basic-build-pipeline-for-main-epic-and-release-branches" class="table-of-contents__link toc-highlight">The Basic Build Pipeline for main, epic, and release branches</a><ul><li><a href="#basic-build-pipeline-build-and-test-stage" class="table-of-contents__link toc-highlight">Basic Build Pipeline: Build and Test stage</a></li><li><a href="#basic-build-pipeline-install-outputs-to-a-development-and-test-environment" class="table-of-contents__link toc-highlight">Basic Build Pipeline: Install outputs to a development and test environment</a></li><li><a href="#basic-build-pipeline-analyze-stage" class="table-of-contents__link toc-highlight">Basic Build Pipeline: Analyze stage</a></li></ul></li><li><a href="#the-release-pipeline-with-build-packaging-and-deploy-stages" class="table-of-contents__link toc-highlight">The Release Pipeline with Build, Packaging, and Deploy stages</a><ul><li><a href="#release-pipeline-build-stage" class="table-of-contents__link toc-highlight">Release Pipeline: Build stage</a></li><li><a href="#release-pipeline-packaging-stage" class="table-of-contents__link toc-highlight">Release Pipeline: Packaging stage</a></li><li><a href="#release-pipeline-deploy-stage" class="table-of-contents__link toc-highlight">Release Pipeline: Deploy stage</a></li></ul></li><li><a href="#deployment-to-production" class="table-of-contents__link toc-highlight">Deployment to production</a></li><li><a href="#conclusion" class="table-of-contents__link toc-highlight">Conclusion</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/IBM/z-devops-acceleration-program" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2023 IBM Corporation</div></div></div></footer></div>
<script src="/z-devops-acceleration-program/assets/js/runtime~main.1579192a.js"></script>
<script src="/z-devops-acceleration-program/assets/js/main.a28e869f.js"></script>
</body>
</html>